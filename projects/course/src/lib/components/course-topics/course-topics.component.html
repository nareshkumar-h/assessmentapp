

<div class="row" cdkDropList (cdkDropListDropped)="drop($event)">
    <div class="col-12" *ngFor="let m of modules;let i=index" cdkDrag>
        <div class="card card-custom w100 drag-content gutter-b">
            <div class="card-header card-blue">
                Module #{{i+1}} - {{m.name}}

                <div class="tools pull-right">
                    <a *ngIf="mode!='E' && selectedModule!=i " (click)="mode='E';selectedModule=i" class="text-white"><i class="fas fa-pencil-alt"></i></a> &nbsp;
                    <a *ngIf="mode=='E' && selectedModule ==i"  class="drag-icon text-white">
                        <i  class="fas fa-arrows-alt" cdkDragHandle></i>
                    </a>&nbsp;
                    
                    <a *ngIf="mode=='E' && selectedModule==i" (click)="openDialog(m)" class="text-white"><i class="fas fa-plus "></i></a> &nbsp;
                    <a *ngIf="mode=='E' && selectedModule==i" (click)="deleteModule(i,m.code)" class="text-white"><i class="fas fa-trash "></i></a> &nbsp;
                    <a *ngIf="mode=='E' && selectedModule==i" (click)="mode='';selectedModule=-1" class="text-white"><i class="fas fa-check "></i></a> &nbsp;
                </div>
            </div>
            <div class="card-body">
                <ul>
                    <li *ngFor="let t of moduleTopics[m.name]">{{t.topicName}}
                        <!-- <span class="badge badge-primary" *ngIf="t.duration>0">{{t.duration}} mins</span> &nbsp; -->
                        <a *ngIf="mode=='E'" class="fas fa-trash" (click)="deleteTopic(m.code, t.id)"></a> 
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>