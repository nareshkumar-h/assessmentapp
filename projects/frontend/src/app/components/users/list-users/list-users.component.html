<kt-sidebar [menus]="menus" showSidebar="true"></kt-sidebar>
<kt-page [breadcrumbItems]="breadcrumbItems" showSidebar="false">
    <div class="row">
        <div class="page-title col-6" >Users</div>
        <div class="page-actions ml-auto">
            <button  mat-raised-button color="primary" [ngxPermissionsOnly]="['HR']" routerLink="adduser">
                Add User</button>
                <!-- <button  mat-raised-button color="primary" [ngxPermissionsOnly]="['HR']" routerLink="adduser">
                    Add User</button> -->
        </div>
    </div>
    <div class="page-section col" *ngIf="users">
        <!-- <h3 class="page-section-title">Users</h3> -->
        <div class="mat-elevation-z8">
    <table mat-table matSort [dataSource]="dataSource" style="width: 100%;">
            <ng-container matColumnDef="username">
                <th mat-header-cell *matHeaderCellDef> Username </th>
                <td mat-cell *matCellDef="let user"> {{user.username}} </td>
            </ng-container>
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef  mat-sort-header> Name </th>
                <td mat-cell *matCellDef="let user"> {{user.name}} </td>
            </ng-container>
            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let user"> {{user.email}} </td>
            </ng-container>
            <ng-container matColumnDef="dateOfJoining">
                <th mat-header-cell *matHeaderCellDef> Joining Date </th>
                <td mat-cell *matCellDef="let user"> {{user.dateOfJoining}} </td>
            </ng-container>
            <ng-container matColumnDef="active">
                <th mat-header-cell *matHeaderCellDef> Active </th>
                <td mat-cell *matCellDef="let user"> {{user.active?"Y":"N"}} </td>
            </ng-container>
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>  </th>
                <td mat-cell *matCellDef="let user">
                    <button routerLink="../user/{{user.username}}/profile" mat-raised-button color="primary" class="btn-sm">View</button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns">
            <tr mat-row *matRowDef="let row;columns: displayedColumns"></tr>
        </table>
<!--         
  <mat-paginator [length]="users.length" [pageSize]="3"></mat-paginator> -->
  <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20, dataSource.data.length]" showFirstLastButtons [length]="users.length"></mat-paginator>
  </div>

        <!-- <table class="table w-100 d-block d-md-table table-sm">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Username </th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Organization</th>
                    <th>Degree</th>
                    <th>Department</th>
                    <th>Percentage</th>
                    <th>Year of Passing</th>
                    <th>Role</th> 
                    <th>Active</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let i=index;let user of users">
                    <td>{{i+1}}</td>
                    <td>
                        {{user.username}}
                    </td>
                    <td>{{user.name}}</td>

                    <td>{{user.email}}</td>
                    <td>{{user.academic.organization}}</td>
                    <td>{{user.academic.degree}}</td>
                    <td>{{user.academic.department}}</td>
                    <td>{{user.academic.percentage!=0 ? user.academic.percentage : ""}}</td>
                    <td>{{user.academic.yearOfPassing!=0 ? user.academic.yearOfPassing : ""}}</td>
                    <td>{{user.role}}</td>   
                    <td>{{user.active?"Y":"N"}}</td>

                    <td>
                        <a routerLink="{{user.username}}/profile" class="btn btn-info btn-sm">View</a>

                    </td>

                </tr>

            </tbody>
        </table> -->
    </div>


</kt-page>