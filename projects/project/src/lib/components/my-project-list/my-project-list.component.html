<lib-project-main-sidebar ></lib-project-main-sidebar>
<kt-page  [breadcrumbItems]="breadcrumbItems" showSidebar="true">

    <div class="page-title" *ngIf="isLoggedInUser">My Projects</div>
    <div class="page-title" *ngIf="!isLoggedInUser">Projects - {{userId}}</div>

    <div class="row" *ngIf="reportData">
            <div class="col-3"
        *ngFor="let r of reportData;let i=index;">            
            <kt-dashboard-widget [reportData]="r" [class]="widgetColors[i]" ></kt-dashboard-widget>
        </div>
    </div> 
    <ng-template #loading>
        <kt-loading-bar></kt-loading-bar>
    </ng-template>
    
<div class="row" *ngIf="projects else loading">
        <div class="col-12" >
            <div class="card card-custom" >
                <div class="card-header card-blue">
                    <div class="card-title text-white">Projects</div>
                     <!-- <div class="tools pull-right">
                        <a routerLink="../addproject" *ngIf="isLoggedInUser" class="btn btn btn-sm text-white"><i class="fa fa-plus "></i></a>
                    </div>  -->
                </div>
                <div class="card-body">                    
                    <table class="table table-striped table-bordered table-hover" id="sample_6">
                        <thead>
                            <tr>
                                <th>Sno</th>
                                <th>Project Name</th>
                                <!-- <th class="hidden-xs">Start Date</th>
                                <th class="hidden-xs">End Date</th>																		 -->
                                <th>Days</th>
                                <th>Features</th>
                                <!-- <th class="hidden-xs">Status</th> -->
                                <th class="hidden-xs">Developed By</th>									
                                <!-- <th>Reviewer</th> -->
                                <!-- <th class="hidden-xs">Locked</th> -->
                                <th colspan="2">Action</th>																
                            </tr>
                        </thead>
                        <tbody *ngIf="projects">
                            <tr *ngFor="let p of projects;let i=index">
                                <td width="5%">  {{i+1}}</td>									
                                <td> {{p.name}} 
                                    <small *ngIf="p.flag">
                                        <i class="fa fa-flag" *ngIf="p.flag=='R'" aria-hidden="true" style="color:'red'"></i>
                                        <i class="fa fa-flag" *ngIf="p.flag=='G'" aria-hidden="true" style="color:'green'"></i>
                                    </small>    
                                </td>									
                                <!-- <td class="hidden-xs">{{p.startDate}}</td>				
                                <td class="hidden-xs">{{p.completionDate}}</td>	 -->
                                <td>{{p.days}}</td>	
                                <td>{{p.noOfFeatures}}</td>												
                                <!-- <td class="hidden-xs"><span class="badge badge-primary">{{p.status}}</span></td>				 -->
                                <!-- <td class="hidden-xs"><a routerLink="{{p.createdBy}}"> <i class="fa fa-user" aria-hidden="true"></i> {{p.createdBy}} </a> </td> -->
                                <td> <i class="fa fa-user" aria-hidden="true"></i>  {{p.createdBy}}</td>
                                <!-- <td>{{p.project.reviewerId}}</td> -->
                                
                                <!-- <td class="hidden-xs">
                                    <i class='fa' [class] = "{'fa-lock':p.locked,'fa-unlock': !p.locked}" aria-hidden='true'></i>
                                </td> -->
                                <td>
                                    <button class="btn btn-info" routerLink="{{p.id}}/features">View</button> &nbsp;
                                    &nbsp;
                                    
                                    <a *ngIf="p.testUrl" href="{{p.testUrl}}" target="_blank"  class="btn btn-success text-white">
                                        Test </a> &nbsp;
                                 </td>
                                <!--
                                <td>
                                    <a href="#"  ng-click="enrollProject(p)" class="btn btn-primary btn-sm"> Enroll </a>
                                </td>
                                -->
                            </tr>
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</kt-page>